{
  "advertise_addr": "$PRIVATE_IP",
  "data_dir": "/opt/consul",
  "datacenter": "${consul_dc_name}",
  "node_name": "${consul_server_name}",
  "encrypt": "${consul_gossip_encryption_key}",
  "disable_remote_exec": true,
  "disable_update_check": true,
  "leave_on_terminate": true,
  "retry_join": [
    "provider=aws tag_key=service_role tag_value=service_discovery"
  ],
  "server": true,
  "bootstrap_expect": "servers_count",
  "ui": true,
  "client_addr": "0.0.0.0",
  "telemetry": {
    "prometheus_retention_time": "1m",
    "disable_hostname": true
  },
  "connect": {
    "enabled": true
  }
}